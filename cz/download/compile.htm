<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
	<link rel="stylesheet" type="text/css" href="../breviar.css">
	<title>kompilácia</title>
</head>
<body>
<center><h2>Download | Kompilace</h2>
^ <a href="main.htm">Download</a>
</center>
<p align="center">Omluva: Mnohé zde uvedené stránky ještì nejsou funkèní, nìkteré nejsou pøeloženy ze slovenštiny do èeštiny (napište nám, jestli mùžete a chcete pomoct).</p>
<p>V této èásti popisuji, jak kompilovat a linkovat zdrojové kódy tak, abyste vytvoøili build jako command-line aplikaci, nebo pro web (cgi skript).
<p>V principu rozlišujeme kompilaci pro následující dva úèely:
<ol class="level1">
	<li>binárka, která bude generovat výstup do souborù (HTML), tedy <span class="blue">samostatná aplikace</span> (pro Windows nebo linux);</li>
	<li>binárka, která bude generovat výstup na standardní výstup (stdout) za úèelem použití jako <span class="blue">cgi skript pro webserver</span> (napø. Apache pro Windows/Ruby nebo pro linux).</li>
</ol>
<p>Oba zpùsoby se øídí pomocí <span class="tt">#define</span> v souboru <span class="tt">mysystem.h</span>:
<ol class="level1">
	<li><span class="blue">samostatná command-line aplikace</span>: <span class="tt">MODEL_linux_commandline</span> nebo <span class="tt">MODEL_Windows_commandline</span>;</li>
	<li><span class="blue">cgi skript pro webserver</span>: <span class="tt">MODEL_linux</span> nebo <span class="tt">MODEL_Windows</span>.</li>
</ol>
<p>Samozøejmì, ostatní je potøeba zaznamenat. Pro úèely testování a debugování klidnì použijte i další možnosti ( jsou popsané též pøímo v souboru <span class="tt">mysystem.h</span>).
<h4 class="blue">Postup kompilace</h4>
<p>V podstatì postaèí souboru <span class="tt">urob</span> dát práva (v linuxu <span class="tt">chmod 755</span>) a spustit ho. 
Nebo se inspirujte pøímo jeho obsahem: je tøeba zlinkovat nasledující soubory: 
<pre>
breviar.cpp 
dbzaltar.cpp 
liturgia.cpp 
mygetopt.cpp 
mylog.cpp 
myhpage.cpp 
myexpt.cpp 
cgiutils.cpp 
myconf.cpp 
mydefs.cpp 
mystring.cpp
</pre>
<p>Výsledkem bude požadovaná binárka, kterou pojmenujte podle vlastního uvážení (pro webserver by mìla mít pøíponu cgi) 
a pøípadnì jí nastavte práva na execute.
<p>Máte-li jakékoliv pøipomínky, vylepšení, nápady nebo postøehy, pošlete je prosím <a href="mailto:videky@breviar.sk">mailem</a>.</p>
<h4 class="blue">Jaký je rozdíl mezi "aplikací" a "skriptem pro webserver"?</h4>
<p>Když webserver volá nìjaký skript, ten mu pošle výstup na stdout. Proto všechen výstup jde na stdout. 
Navíc, první øádky MUSÍ být takové, které obsahují Content-type, aby webserver vìdìl, co má
zobrazit (zda jde o HTML soubor, anebo jde o filelisting, anebo jde o bitmapu, obrázek, pakovaný soubor a pod.).
<p>Aplikace (pøesnìji, command-line samostatná binárka) kromì generování jednotlivých stránek dokáže generovat modlitby pro více dní najednou použitím tzv. <a href="../info/batchmode.htm">batch módu (dávkové zpracování)</a>
<hr>
<p class="patka">
Poslední aktualizace: 2011-02-08<br/>
© 1999-2013 <a href="mailto:videky@breviar.sk">Juraj Vidéky</a>
</p>
</body>
</html>
