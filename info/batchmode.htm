<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
	<meta name="Author" content="Juraj Videky">
	<link rel="stylesheet" type="text/css" href="../breviar.css">
	<title>O programe | Parametre (batch mode)</title>
</head>
<body>
<center>
<h2>O programe | Parametre (batch mode)</h2>
^ <a href="ulohy.htm">Úlohy</a> | ^ <a href="parametre.htm">Parametre (všeobecne)</a> | ^^ <a href="program.htm">O programe</a>
</center>
 
<h4 class="blue">Parametre programu (batch mode)</h4>
<p>Command-line verzia programu (teda verzia spustite¾ná z príkazového riadka) môe by spustená štandardnım 
spôsobom (pozri viac o <a href="parametre.htm">parametroch tohto pouitia</a>), alebo v tzv. 
<span class="bold">batch móde (dávkové spracovanie)</span>, keï pre urèité dvoma dátumami ohranièené obdobie 
<a name="datumy"></a>(<span class="it">poèiatoènı dátum</span>, <span class="it">koncovı dátum</span>)
vytvorí dávkovı súbor (skript), obsahujúci volania programu s nastavenımi parametrami. Skript 
po spustení generuje modlitby pre dané obdobie (buï pre kadú modlitbu
do samostatného súboru, alebo všetky modlitby do jedného súboru). 
Tento spôsob pouitia sa znaène líši od ostatnıch, preto
ho popisujeme na tomto mieste osobitne.

<ul class="level1">
<li><span class="parameter">q</span> | Typ <a href="ulohy.htm">úlohy</a>, ktorú má program vykona (query type)
	<ul class="level2">
	<li><span class="value">pbm</span> | batch mode (dávkové spracovanie)</li>
	<li>ostatné hodnoty: viï <a href="parametre.htm">parametre pouitia programu (všeobecne)</a>
	</ul>
</li>
<li><span class="parameter">d</span> | Deò <a href="#datumy">poèiatoèného</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">31</span>)</li>
<li><span class="parameter">m</span> | Mesiac <a href="#datumy">poèiatoèného</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">12</span>)</li>
<li><span class="parameter">r</span> | Rok <a href="#datumy">poèiatoèného</a> dátumu (napr. <span class="value">2000</span>)</li>
<li><span class="parameter">f</span> | Deò <a href="#datumy">koncového</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">31</span>)</li>
<li><span class="parameter">g</span> | Mesiac <a href="#datumy">koncového</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">12</span>)</li>
<li><span class="parameter">p</span> | Rok <a href="#datumy">koncového</a> dátumu (napr. <span class="value">2000</span>).
<br>Malo by pritom plati: poèiatoènı dátum &lt;= koncovı dátum.</li>
<li><span class="parameter">b</span> | Názov vısledného skriptu (napr. <span class="tt">rob.bat</span>). <a href="#output">Vısledky jeho spustenia</a> sú popísané nišie.</li>
<li><span class="parameter">n</span> | Názov pouitého command-line príkazu online breviára 
(napr. <span class="tt">breviar.exe</span> pre DOS).
Tento názov bude pouitı vo vıslednom skripte.</li>
<li><span class="parameter">1</span> | Monos, èi zobrazi nemenné súèasti modlitby (default: nie)</li>
<li><span class="parameter">2</span> | Monos, èi bra almy zo dòa alebo z vlastnej/spoloènej èasti slávenia</li>
<li><span class="parameter">3</span> | Ak je monos vıberu viacerıch spoloènıch èastí, tento parameter urèuje, ktorú spoloènú èas bra</li>
<li><span class="parameter">4</span> | Monos, èi zobrazi popis k modlitbe z vlastnej èasti (zväèša struènı ivotopis svätca dòa; default: áno)</li>
<li><span class="parameter">5</span> | Monos, èi bra almy k modlitbe cez deò z benej alebo doplnkovej psalmódie (default: nie)</li>
<li><span class="parameter">6</span> | Monos, èi [pre zobrazenie mesiacov] zobrazova všetko do jednoho riadka (default: nie)</li>
<li><span class="parameter">7</span> | Monos, èi [pre zobrazenie mesiacov] zobrazova dátum v ISO 8601 štandarde (default: nie)</li>
<!--<li><span class="parameter">l</span> | Monos, èi zobrazova hypertextové linky (default: nie)</li>-->
<li><span class="parameter">e</span> | Názov súboru, do ktorého sa 
má exportova (DOS default: <span class="tt">export.htm</span>, linux default: stdout). Tento súbor bude v prípade
chıb obsahova chybové hlásenia. V prípade úspechu bude obsahova iba hlavièku HTML dokumentu, pretoe vısledkom
bude skript, ktorého meno špecifikoval parameter <span class="parameter">b</span>.</li>
<li><span class="parameter">a</span> | Monos, èi všetky modlitby da do 1 súboru (default: nie)</li>
<li><span class="parameter">j</span> | Jazyk pre odlišné jazykové mutácie (default: sk; ostatné podporované monosti: cz, c2)</li>
<li><span class="parameter">c</span> | Názov css súboru, ktorı sa má poui pri generovaní modlitieb (CSS musí pritom spåòa isté štandardy)</li>
<li><span class="parameter">u</span> | Formát vıslednıch súborov pre batch mód s modlitbami (default: 0 = simple [skrátené názvy súborov]; 1 = full)</li>
</ul>
<p>Pre parametre urèujúce monosti majú nasledujúce hodnoty: 
<span class="value">1</span> – áno, <span class="value">0</span> – nie.
<a name="output"></a>
<h4 class="blue">Vısledky po spustení vytvoreného skriptu</h4>
<p>Vytvorenı skript po spustení vygeneruje modlitby pre dané obdobie do súborov <span class="tt">yymmdd_xp.htm</span> (pre -u0) 
	resp. <span class="tt">yyyy-mm-dd_xp.htm</span> (pre -u1), kde vıznam jednotlivıch èastí mena súboru je nasledujúci:
<ul class="level1">
<li><span class="parameter">yy/yyyy</span> | rok</li>
<li><span class="parameter">mm</span> | mesiac (napr. <span class="value">05</span> pre máj)</li>
<li><span class="parameter">dd</span> | deò (napr. <span class="value">07</span>)
<br>Pre parameter -u1 je dátum uvedenı v súlade s normou ISO 8601; v opaènom prípade (-u0) obsahuje len posledné dvojèíslie roka (pre rok 2009 teda napr. len 09).
</li>
<li><span class="parameter">x</span> | poradie svätého (<span class="value">0</span> 
a <span class="value">4</span>). <span class="value">0</span> zväèša znamená všednı deò alebo slávnos 
s najvyššou prioritou. <span class="value">4</span> znamená ¾ubovo¾nú spomienku Panny Márie v sobotu,
<span class="value">1</span> a <span class="value">3</span> znamenajú zväèša sviatky svätıch.</li>
<li><span class="parameter">p</span> | modlitba (<span class="value">i</span> = invitatórium, 
	<span class="value">r</span> = ranné chvály, 
	<span class="value">c</span> = posvätné èítanie, 
	<span class="value">9</span> = modlitba predpoludním, 
	<span class="value">2</span> = modlitba napoludnie, 
	<span class="value">3</span> = modlitba popoludní, 
	<span class="value">v</span> = vešpery, 
	<span class="value">k</span> = kompletórium)</li>
</ul>
<p>V prípade, e je pouitı parameter <span class="parameter">a</span> (append), 
bude vytvorenı len jeden súbor s nasledujúcim menom:
<span class="tt">yyyy-mm-dd_YYYY-MM-DD.htm</span>, kde vıznam 
jednotlivıch èastí mena súboru je nasledujúci:
<ul class="level1">
<li><span class="parameter">yyyy</span> | rok <a href="#datumy">poèiatoèného</a> dátumu</li>
<li><span class="parameter">mm</span> | mesiac <a href="#datumy">poèiatoèného</a> dátumu</li>
<li><span class="parameter">dd</span> | deò <a href="#datumy">poèiatoèného</a> dátumu</li>
<li><span class="parameter">YYYY</span> | rok <a href="#datumy">koncového</a> dátumu</li>
<li><span class="parameter">MM</span> | mesiac <a href="#datumy">koncového</a> dátumu</li>
<li><span class="parameter">DD</span> | deò <a href="#datumy">koncového</a> dátumu
<br>Dátumy sú uvedené v súlade s normou ISO 8601.
</li>
</ul>
<p>Ak dostane program nesprávne parametre (zahàòa i prípady nesprávnych hodnôt parametrov 
alebo ïalšie chıbajúce parametre závisiace od inıch parametrov), export obsahuje chybové hlásenie.
Naviac, command line verzia vypíše chybové hlásenie na stderr.
<a name="example"></a>
<h4 class="blue">Príklady</h4>
<p>Ako sa vraví, príklad môe všetky pochybnosti razom odstráni alebo naopak, podnieti ïalšie otázky.
Za oboma úèelmi sú uvedené nasledujúce príkady pouitia batch módu.
<ul class="level1">
<li><span class="tt">breviar.exe -qpbm -d7 -m5 -r2000 -f3 -g4 -p2001 -brob.bat -nbreviar.exe -ic:\breviar\</span><br>
<span class="explain">Program vygeneruje skript <span class="tt">rob.bat</span>, ktorı vytvorí 
modlitby od 7. mája 2000 do 3. apríla 2001. 
Pritom <span class="tt">include</span> adresár sa nachádza v adresári <span class="tt">c:\breviar\</span>
a meno programu je <span class="tt">breviar.exe</span>. (Pouitie v DOSe/Windows.)
</span>
</li>
<li><span class="tt">breviar.exe -qpbm -d7 -m5 -r2000 -f3 -g4 -p2001 -brob.bat -nbreviar.exe -ic:\breviar\ -a1 -u1</span><br>
<span class="explain">Program vygeneruje skript <span class="tt">rob.bat</span>, ktorı vytvorí modlitby od 7. mája 2000 do 3. apríla 2001. 
Po spustení skriptu budú všetky modlitby vytvorené do jednoho súboru s menom
<span class="tt">2000-05-07_2001-04-03.htm</span>.
Pritom <span class="tt">include</span> adresár sa nachádza v adresári <span class="tt">c:\breviar\</span> a meno programu je <span class="tt">breviar.exe</span>. (Pouitie v DOSe/Windows.)
</span>
</li>
<li><span class="tt">breviar -qpbm -d7 -m5 -r2000 -f3 -g4 -p2001 -brob.sh -nbreviar -i~/breviar/</span><br>
<span class="explain">
Program vygeneruje skript <span class="tt">rob.sh</span> (mono bude potrebnı <span class="tt">chmod</span> na nastavenie práv), ktorı vytvorí modlitby od 7. mája 2000 do 3. apríla 2001. 
Pritom <span class="tt">include</span> adresár sa nachádza v adresári <span class="tt">~/breviar/</span> a meno programu je <span class="tt">breviar</span>. (Pouitie v UNIXe.)
</span>
</li>
</ul>
Ak sa vyskytnú nejaké nezrovnalosti alebo nefunkènosti, prosím <a href="mailto:videky@breviar.sk">píšte</a>, pretoe batch mód je stále viac-menej experiment. Ïakujem.
<p><hr>
<p class="patka">
Autor programovej èasti © 1999-2011 <a href="mailto:videky@breviar.sk">Juraj Vidéky</a>
<br>Všetky práva vyhradené.
<br>Posledná aktualizácia: 2008-12-18<br>
© 1999-2011 <a href="mailto:videky@breviar.sk">Juraj Vidéky</a>
</p>
</body>
</html>
