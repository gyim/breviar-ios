<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
	<meta name="Author" content="Juraj Videky">
	<link rel="stylesheet" type="text/css" href="../breviar.css">
	<title>O programe | Parametre (batch mode)</title>
</head>
<body>
<center>
<h2>O programe | Parametre (batch mode)</h2>
^ <a href="ulohy.htm">Úlohy</a> | ^ <a href="parametre.htm">Parametre (všeobecne)</a> | ^^ <a href="program.htm">O programe</a>
</center>
 
<h4 class="blue">Parametre programu (batch mode)</h4>
<p>Command-line verzia programu (teda verzia spustite¾ná z príkazového riadka) môe by spustená štandardnım 
spôsobom (pozri viac o <a href="parametre.htm">parametroch tohto pouitia</a>), alebo v tzv. 
<span class="bold">batch móde (dávkové spracovanie)</span>, keï pre urèité dvoma dátumami ohranièené obdobie 
<a name="datumy"></a>(<span class="it">poèiatoènı dátum</span>, <span class="it">koncovı dátum</span>)
vytvorí dávkovı súbor (skript), obsahujúci volania programu s nastavenımi parametrami. Skript 
po spustení generuje modlitby pre dané obdobie (buï pre kadú modlitbu
do samostatného súboru, alebo všetky modlitby do jedného súboru). 
Tento spôsob pouitia sa znaène líši od ostatnıch, preto ho popisujeme na tomto mieste osobitne.

<ul class="level1">
<li><span class="parameter">q</span> | Typ <a href="ulohy.htm">úlohy</a>, ktorú má program vykona (query type)
	<ul class="level2">
	<li><span class="value">pbm</span> | batch mode (dávkové spracovanie)</li>
	<li>ostatné hodnoty: viï <a href="parametre.htm">parametre pouitia programu (všeobecne)</a>
	</ul>
</li>
<li><span class="parameter">d</span> | Deò <a href="#datumy">poèiatoèného</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">31</span>)</li>
<li><span class="parameter">m</span> | Mesiac <a href="#datumy">poèiatoèného</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">12</span>)</li>
<li><span class="parameter">r</span> | Rok <a href="#datumy">poèiatoèného</a> dátumu (napr. <span class="value">2000</span>)</li>
<li><span class="parameter">f</span> | Deò <a href="#datumy">koncového</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">31</span>)</li>
<li><span class="parameter">g</span> | Mesiac <a href="#datumy">koncového</a> dátumu (hodnoty: <span class="value">1</span>-<span class="value">12</span>)</li>
<li><span class="parameter">p</span> | Rok <a href="#datumy">koncového</a> dátumu (napr. <span class="value">2000</span>).
<br/>Musí pritom prirodzene plati: poèiatoènı dátum &lt;= koncovı dátum.</li>
<li><span class="parameter">b</span> | Názov vısledného skriptu (napr. <span class="tt">rob.bat</span>). <a href="#output">Vısledky jeho spustenia</a> sú popísané nišie.</li>
<li><span class="parameter">n</span> | Názov pouitého command-line príkazu online breviára (napr. <span class="tt">breviar.exe</span> pre DOS). Tento názov bude pouitı vo vıslednom skripte.</li>

<li><span class="parameter">0</span> | Monos 0 (option 0), špeciálne èasti modlitieb
	<ul class="level2">
	<li>1. bit (1): èíslovanie (èísla) veršov v almoch, chválospevoch a biblickıch èítaniach </li>
	<li>2. bit (2): biblické referencie na dkc.kbs.sk</li>
	<li>3. bit (4): liturgické èítania (odkaz na lc.kbs.sk)</li>
	<li>4. bit (8): èi sa slávi Zjavenie Pána 6.1. (0 = default) alebo v nede¾u medzi 2. a 8. januárom (1)</li>
	<li>5. bit (16): èi sa slávi Nanebovstúpenie Pána vo štvrtok (40. deò po Ve¾kej noci, 0 = default) alebo sa prenáša na nasledujúcu nede¾u (1)</li>
	<li>6. bit (32): èi sa Najsv. Kristovho Tela a Krvi slávi vo štvrtok, 11.-ty deò po Zoslaní Ducha Sv. (0 == default) alebo v nasledujúcu nede¾u (1)</li>
	</ul>
</li>
<li><span class="parameter">1</span> | Monos 1 (option 1), pevné súèasti modlitieb: 0 = nie; 1 = áno
	<ul class="level2">
	<li>1. bit (1): Te Deum</li>
	<li>2. bit (2): rubriky</li>
	<li>3. bit (4): evanjeliové chválospevy (Benedictus, Magnifikat, Nunc dimittis)</li>
	<li>4. bit (8): Sláva Otcu</li>
	<li>5. bit (16): Otèenáš</li>
	<li>6. bit (32): doplnková psalmódia pre modlitbu cez deò</li>
	<li>7. bit (64): vigílie pre nedele, slávnosti a sviatky (posvätné èítanie)</li>
	<li>8. bit (128): bra na spomienky èasti zo spoloènıch èastí</li>
	<li>9. bit (256): zobrazi plné znenie responzórií (v posvätnıch èítaniach)</li>
	<li>10. bit (512): poui v modlitbe alm 95 miesto almov 24, 67, 100 (ak sa pouili v invitatóriu)</li>
	<li>11. bit (1024): zvolanie v prosbách zobrazi (opakova) po kadej prosbe</li>
	<li>12. bit (2048): skry popis (napr. ivotopis svätca)</li>
	<li>13. bit (4096): monos zobrazi informáciu o spoloènej èasti</li>
	<li>14. bit (8192): poui (pre ktorıko¾vek deò v roku) kratšie prosby k vešperám z dodatku</li>
	</ul>
</li>
<li><span class="parameter">2</span> | Monos 2 (option 2), HTML export
	<ul class="level2">
	<li>1. bit (1): formát dátumu v ISO 8601 formáte (napr. "2011-04-13") alebo iba deò (napr. "13")</li>
	<li>2. bit (2): zobrazi pre nedele a vybrané slávenia monos priamo v danı deò zvoli prvé vešpery</li>
	<li>3. bit (4): poui bezpätkové písmo (Sans Serif) alebo pätkové (Serif)</li>
	<li>4. bit (8): zobrazi monos vıberu písma (drop-down list)</li>
	<li>5. bit (16): zobrazi monos vıberu ve¾kosti písma (drop-down list)</li>
	<li>6. bit (32): zobrazi navigáciu v textoch modlitieb (tlaèidlá pre jednotlivé modlitby)</li>
	<li>7. bit (64): zalamova dlhé riadky ako v tlaèenom vydaní (poetické èasti)</li>
	<li>8. bit (128): zobrazi buttony pre modlitby v úspornej podobe (tabu¾ka) kvôli mobilnım zariadeniam</li>
	<li>9. bit (256): noènı reim (tmavé pozadie, svetlı text)</li>
	<li>10. bit (512): zobrazi rozlièné monosti priamo v textoch modlitieb (skryjú sa na úvodnej stránke, budú formou hypertextovıch odkazov priamo v textoch modlitieb)</li>
	<li>11. bit (1024): monos zobrazi/skry navigáciu (tlaèidlá) v modlitbe a pre "dnes", ak je zvolenı 6. bit</li>
	<li>12. bit (2048): skry kalendárik pre "dnes"</li>
	<li>13. bit (4096): skry "ïalšie monosti 1" pre "dnes" (na titulnej stránke; nemá vplyv na command-line HTML offline vygenerované texty)</li>
	<li>14. bit (8192): skry "ïalšie monosti 2" pre "dnes" (na titulnej stránke; nemá vplyv na command-line HTML offline vygenerované texty)</li>
	</ul>
</li>
<li><span class="parameter">4</span> | Monos 4 (option 4), HTML export ïalšie
	<ul class="level2">
	<li>1. bit (1): mesiac jednoducho (default: nie jednoducho, ale HTML pekne pre web) alebo pekne "zloito"</li>
	</ul>
</li>

<!--<li><span class="parameter">l</span> | Monos, èi zobrazova hypertextové linky (default: nie)</li>-->
<li><span class="parameter">e</span> | Názov súboru, do ktorého sa má exportova (DOS default: <span class="tt">export.htm</span>, linux default: stdout). Tento súbor bude v prípade chıb obsahova chybové hlásenia. V prípade úspechu bude obsahova iba hlavièku HTML dokumentu, pretoe vısledkom bude skript, ktorého meno špecifikoval parameter <span class="parameter">b</span>.</li>
<li><span class="parameter">a</span> | Monos, èi všetky modlitby da do 1 súboru (default: nie)</li>
<li><span class="parameter">j</span> | Jazyk pre odlišné jazykové mutácie (default: sk; ostatné podporované monosti: cz, c2)</li>
<li><span class="parameter">c</span> | Názov css súboru, ktorı sa má poui pri generovaní modlitieb (CSS musí pritom spåòa isté štandardy)</li>
<li><span class="parameter">u</span> | Formát vıslednıch súborov pre batch mód s modlitbami (default: 0 = simple [skrátené názvy súborov]; 1 = full)</li>
<li><span class="parameter">k</span> (len pre slovenskú verziu) | Kalendár reho¾nej rodiny (saleziáni: <span class="parameter">sdb</span>, redemptoristi: <span class="parameter">cssr</span>, ...)</li>
<li><span class="parameter">M</span> | Monosti offline HTML exportu (pouite hodnoty: <span class="value">2</span> alebo <span class="value">3</span>)</li>
</ul>

<p>Pre parametre urèujúce monosti majú nasledujúce hodnoty: <span class="value">bitová-hodnota</span> * <span class="value">1</span> – áno, <span class="value">0</span> – nie (jednotlivé bitové komponenty pre danú option sa sèítajú).

<a name="howto"></a>
<h4 class="blue">Ako zisti nastavenie jednotlivıch parametrov</h4>
<p>Spôsob, ako zisti parametre pod¾a vašich nastavení v prehliadaèi, najmä teda pre bitové poloky (options 0 a 4) popisujeme pri popise <a href="parametre.htm#howto">parametrov beného pouitia</a>.

<a name="output"></a>
<h4 class="blue">Vısledky po spustení vytvoreného skriptu</h4>
<p>Vytvorenı skript po spustení vygeneruje modlitby pre dané obdobie do súborov <span class="tt">yymmdd_xp.htm</span> (pre -u0) 
	resp. <span class="tt">yyyy-mm-dd_xp.htm</span> (pre -u1), kde vıznam jednotlivıch èastí mena súboru je nasledujúci:
<ul class="level1">
<li><span class="parameter">yy/yyyy</span> | rok</li>
<li><span class="parameter">mm</span> | mesiac (napr. <span class="value">05</span> pre máj)</li>
<li><span class="parameter">dd</span> | deò (napr. <span class="value">07</span>)
<br/>Pre parameter -u1 je dátum uvedenı v súlade s normou ISO 8601; v opaènom prípade (-u0) obsahuje len posledné dvojèíslie roka (pre rok 2009 teda napr. len 09).
</li>
<li><span class="parameter">x</span> | poradie svätého (<span class="value">0</span> a <span class="value">4</span>). <span class="value">0</span> zväèša znamená všednı deò alebo slávnos s najvyššou prioritou. <span class="value">4</span> znamená ¾ubovo¾nú spomienku Panny Márie v sobotu, <span class="value">1</span> a <span class="value">3</span> znamenajú zväèša sviatky svätıch.</li>
<li><span class="parameter">p</span> | modlitba (<span class="value">i</span> = invitatórium, 
	<span class="value">r</span> = ranné chvály, 
	<span class="value">c</span> = posvätné èítanie, 
	<span class="value">9</span> = modlitba predpoludním, 
	<span class="value">2</span> = modlitba napoludnie, 
	<span class="value">3</span> = modlitba popoludní, 
	<span class="value">v</span> = vešpery, 
	<span class="value">k</span> = kompletórium)</li>
</ul>
<p>V prípade, e je pouitı parameter <span class="parameter">a</span> (append), bude vytvorenı len jeden súbor s nasledujúcim menom:
<span class="tt">yyyy-mm-dd_YYYY-MM-DD.htm</span>, kde vıznam jednotlivıch èastí mena súboru je nasledujúci:
<ul class="level1">
<li><span class="parameter">yyyy</span> | rok <a href="#datumy">poèiatoèného</a> dátumu</li>
<li><span class="parameter">mm</span> | mesiac <a href="#datumy">poèiatoèného</a> dátumu</li>
<li><span class="parameter">dd</span> | deò <a href="#datumy">poèiatoèného</a> dátumu</li>
<li><span class="parameter">YYYY</span> | rok <a href="#datumy">koncového</a> dátumu</li>
<li><span class="parameter">MM</span> | mesiac <a href="#datumy">koncového</a> dátumu</li>
<li><span class="parameter">DD</span> | deò <a href="#datumy">koncového</a> dátumu</li>
</ul>
<p>Dátumy sú uvedené v súlade s normou ISO 8601.
<p>Ak dostane program nesprávne parametre (zahàòa i prípady nesprávnych hodnôt parametrov alebo ïalšie chıbajúce parametre závisiace od inıch parametrov), export obsahuje chybové hlásenie. Naviac, command line verzia vypíše chybové hlásenie na stderr.

<a name="example"></a>
<h4 class="blue">Príklady</h4>
<p>Ako sa vraví, príklad môe všetky pochybnosti razom odstráni alebo naopak, podnieti ïalšie otázky. Za oboma úèelmi sú uvedené nasledujúce príkady pouitia batch módu.
<ul class="level1">

<li><span class="tt">breviar.exe -qpbm -d1 -m1 -r2013 -f31 -g12 -p2013 -brobSK.bat -jsk -nbreviar.exe -i..\..\breviar.sk\include\ -usimple -M2 -00 -15191 -2224</span><br/>
<span class="explain">Program vytvorí súbor <span class="tt">robSK.bat</span> a jednotlivé podadresáre pre celı rok 2013, ide o „šikovnú verziu“ (pozrite nastavenia option 1 = 5191 a option 2 = 224) z download sekcie webstránok. Všimnite si pouitie parametra M (hodnota 2) a u (hodnota simple). Potom staèí spusti tento súbor <span class="tt">robSK.bat</span>, ktorı behom nieko¾kıch minút predgeneruje všetky modlitby na rok 2013 (vrátane stránok obsahujúcich informácie o jednotlivıch dòoch a mesiacoch). (Pouitie v DOSe/Windows.)
</li>
	
<li><span class="tt">breviar.exe -qpbm -d1 -m1 -r2013 -f31 -g12 -p2013 -brobCZ.bat -jcz -nbreviar.exe -i..\..\breviar.sk\include_cz\ -usimple -M2 -00 -15191 -2224</span><br/>
<span class="explain">Program vytvorí súbor <span class="tt">robCZ.bat</span> a jednotlivé podadresáre pre celı rok 2013, ide o „šikovnú verziu“ pre èeskú LH (j = cz) z download sekcie webstránok. Potom staèí spusti tento súbor <span class="tt">robCZ.bat</span>, ktorı behom nieko¾kıch minút predgeneruje všetky modlitby na rok 2013. (Pouitie v DOSe/Windows.)
</li>

<li><span class="tt">breviar.exe -qpbm -d1 -m1 -r2013 -f31 -g12 -p2013 -brobSK-sdb.bat  -ksdb -jsk -nbreviar.exe -i..\..\breviar.sk\include\ -usimple -M2 -00 -113727 -2120</span><br/>
<span class="explain">Program vytvorí súbor <span class="tt">robSK-sdb.bat</span> a jednotlivé podadresáre pre celı rok 2013, verzia pre saleziánsku rodinu pod¾a poiadaviek ich nastavení. (Pouitie v DOSe/Windows.)
</li>

<li><span class="tt">./l.cgi -qpbm -d1 -m1 -r2013 -f31 -g12 -p2013 -brobSK-sdb.sh -ksdb -jsk -n./l.cgi -i../../include/ -usimple -M2 -00 -15535 -2120</span><br/>
<span class="explain">Program vytvorí súbor <span class="tt">robSK-sdb.sh</span> a jednotlivé podadresáre pre celı rok 2013, verzia pre saleziánsku rodinu pod¾a poiadaviek ich nastavení. Pre spustenie je treba prida práva pre tento súbor (<tt>chmod 755 robSK-sdb.sh</tt>) a spusti ho takto: <tt>./robSK-sdb.sh</tt>. (Pouitie v UNIXe.)
</li>

</ul>
<p>Staršie príklady:
<ul class="level1">

<li><span class="tt">breviar.exe -qpbm -d7 -m5 -r2000 -f3 -g4 -p2001 -brob.bat -nbreviar.exe -ic:\breviar\</span><br/>
<span class="explain">Program vygeneruje skript <span class="tt">rob.bat</span>, ktorı vytvorí modlitby od 7. mája 2000 do 3. apríla 2001. Pritom <span class="tt">include</span> adresár sa nachádza v adresári <span class="tt">c:\breviar\</span> a meno programu je <span class="tt">breviar.exe</span>. (Pouitie v DOSe/Windows.)
</span>
</li>

<li><span class="tt">breviar.exe -qpbm -d7 -m5 -r2000 -f3 -g4 -p2001 -brob.bat -nbreviar.exe -ic:\breviar\ -a1 -u1</span><br/>
<span class="explain">Program vygeneruje skript <span class="tt">rob.bat</span>, ktorı vytvorí modlitby od 7. mája 2000 do 3. apríla 2001. Po spustení skriptu budú všetky modlitby vytvorené do jednoho súboru s menom <span class="tt">2000-05-07_2001-04-03.htm</span>. Pritom <span class="tt">include</span> adresár sa nachádza v adresári <span class="tt">c:\breviar\</span> a meno programu je <span class="tt">breviar.exe</span>. (Pouitie v DOSe/Windows.)
</span>
</li>

<li><span class="tt">breviar -qpbm -d7 -m5 -r2000 -f3 -g4 -p2001 -brob.sh -nbreviar -i~/breviar/</span><br/>
<span class="explain">
Program vygeneruje skript <span class="tt">rob.sh</span> (mono bude potrebnı <span class="tt">chmod</span> na nastavenie práv), ktorı vytvorí modlitby od 7. mája 2000 do 3. apríla 2001. Pritom <span class="tt">include</span> adresár sa nachádza v adresári <span class="tt">~/breviar/</span> a meno programu je <span class="tt">breviar</span>. (Pouitie v UNIXe.)
</span>
</li>

</ul>

<p>Ak sa vyskytnú nejaké nezrovnalosti alebo nefunkènosti, prosím <a href="mailto:videky@breviar.sk">píšte</a>, pretoe batch mód je stále viac-menej experiment. Ïakujem.

<p><hr>
<p class="patka">
Autor programovej èasti © 1999-2013 <a href="mailto:videky@breviar.sk">Juraj Vidéky</a>
<br/>Všetky práva vyhradené.
<br/>Posledná aktualizácia: 2013-01-22<br/>
© 1999-2013 <a href="mailto:videky@breviar.sk">Juraj Vidéky</a>
</p>
</body>
</html>
