<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
   <meta name="Author" content="Juraj Videky">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (WinNT; I) [Netscape]">
   <title>Liturgia hodín - Ako sa generuje modlitba</title>
<script LANGUAGE="JavaScript"><!-- Hide from old browsers
if (document.images)
        {
        normal1 = new Image(449,120);
        normal1.src = "img/lh0.jpg"; 

        over1 = new Image(449,120);
        over1.src = "img/lh1.jpg"; 

        } 

function mOver(num) 
        {
        if (document.images) 
            {
            document.images['button'+ num].src = eval('over' + num).src;
            }
        }
       
   function mOut(num) 
        {
        if (document.images) 
            {
            document.images['button'+ num].src = eval('normal' + num).src;
            }                   
        }
// Stop hiding from old browsers -->
</script>
</head>
<body text="#000000" bgcolor="#FFFFF0" link="#000000" vlink="#000000" alink="#000000">
<style>
<!--
A:link {color: Black;}
A:hover {color: red;}
-->
</style>

<center>
<a href="main.htm" TARGET="Obsah" ONMOUSEOVER="mOver(1)" ONMOUSEOUT="mOut(1)"><img SRC="img/lh0.jpg" NAME="button1" ALT="Liturgia hodin" BORDER=0></a>
</center>

<center>
<h3>
Ako sa generuje modlitba</h3></center>

<center><a href="#data">Dátové štruktúry</a>
<br><a href="#func">Funkènos</a></center>

<p>Presnı spôsob, akım sa generuje jednotlivá modlitba, je tak trochu „tajomstvo
šéfkuchára“. Program, ktorım sa stránky generujú, je napísanı v programovacom
jazyku C++, prièom je èlenenı do viacerıch kniníc. (Priznávam, e jeho
objektové èrty som ve¾mi nevyuíval.) <a href="#func">V ïalšom</a> popíšem
jednotlivé fázy generovania stránky, a to nielen jednotlivej modlitby.
Pre názornos uvádzam aj niektoré <a href="#data">dátové štruktúry</a>,
ktoré program vyuíva.
<center>
<h4>
<a NAME="data"></a>Dátové štruktúry</h4></center>
Tu sú niektoré dátové štruktúry, ktoré program vyuíva (vıpis z header
súborov):
<ul>
<li>
<b>Štruktúra pre jednotlivı deò</b></li>

<br><tt>struct dm{</tt>
<ul><tt>&nbsp;int den;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* cislo
dna mesiaca (1--31) */</tt>
<br><tt>&nbsp;int mesiac;&nbsp;&nbsp;&nbsp;&nbsp; /* cislo mesiaca (1--12)
*/</tt>
<br><tt>&nbsp;int rok;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* rok
*/</tt>
<br><tt>&nbsp;int denvt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* cislo dna v tyzdni
(0--6) DEN_... */ /* deò v roku */</tt>
<br><tt>&nbsp;int denvr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* cislo dna v roku
(1--365/366) */</tt>
<br><tt>&nbsp;/* toto boli "obcianske" zalezitosti */</tt>
<br><tt>&nbsp;char litrok;&nbsp;&nbsp;&nbsp; /* liturgicky rok ('A'--'C')
*/</tt>
<br><tt>&nbsp;int tyzden;&nbsp;&nbsp;&nbsp;&nbsp; /* tyzden v danom liturgickom
obdobi */</tt>
<br><tt>&nbsp;int tyzzal;&nbsp;&nbsp;&nbsp;&nbsp; /* tyzden v zaltari (vacsinou
((tyzden - 1) % 4) + 1) */</tt>
<br><tt>&nbsp;int litobd;&nbsp;&nbsp;&nbsp;&nbsp; /* liturgicke obdobie,
OBD_... */</tt>
<br><tt>&nbsp;int typslav;&nbsp;&nbsp;&nbsp; /* typ slavenia (1--5): SLAV_...
*/</tt>
<br><tt>&nbsp;int smer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* poradove
cislo z c.59 Vseobecnych smernic</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * o liturgii hodin a
kalendari */</tt>
<br><tt>&nbsp;int prik;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* ci je to
prikazany sviatok alebo nie:</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * PRIKAZANY_SVIATOK
resp. NEPRIKAZANY_SVIATOK */</tt>
<br><tt>&nbsp;int spolcast;&nbsp;&nbsp; /* spolocna cast,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * zakodovane data pre
svatych o tom, z akej spolocnej</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * casti sa ma modlit;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * obsahuje max. 3 spolocne
casti vo formate</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * spolcast == a1 + a2
* MAX + a3 * MAX * MAX,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * kde</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * - MAX je MAX_MODL_SPOL_CAST,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * - a1, a2, a3 su konstanty
MODL_SPOL_CAST_...</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp; (v poradi
a1, ak druhe tak a2, ak tretie tak aj a3)</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * _encode_..., _decode_spol_cast();</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</tt>
<br><tt>&nbsp;char meno[MENO_SVIATKU]; /* nazov prip. sviatku */</tt></ul>
<tt>};</tt>
<br><tt>typedef struct dm _struct_dm;</tt>
<br><tt></tt>&nbsp;
<li>
<b>Štruktúra pre èasti modlitby</b></li>

<br><tt>struct tmodlitba1{</tt>
<ul><tt>&nbsp;_struct_anchor_and_file popis&nbsp;&nbsp;&nbsp;&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file hymnus&nbsp;&nbsp;&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file antifona1 ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file zalm1&nbsp;&nbsp;&nbsp;&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file antifona2 ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file zalm2&nbsp;&nbsp;&nbsp;&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file antifona3 ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file zalm3&nbsp;&nbsp;&nbsp;&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file kcitanie&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file kresponz&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file benediktus; /* antifona na benediktus/magnifikat
*/</tt>
<br><tt>&nbsp;_struct_anchor_and_file prosby&nbsp;&nbsp;&nbsp; ;</tt>
<br><tt>&nbsp;_struct_anchor_and_file modlitba&nbsp; ;</tt></ul>
<tt>};</tt>
<br><tt>typedef struct tmodlitba1 _type_ranne_chvaly;</tt>
<br><tt>typedef struct tmodlitba1 _type_vespery;</tt>
<br><tt>typedef struct tmodlitba1 _type_1vespery;</tt>
<br><tt></tt>&nbsp;
<li>
<b>Štruktúra pre (kalendárny) rok</b></li>

<br><tt>struct lrok{</tt>
<ul><tt>&nbsp;int prestupny;&nbsp;&nbsp;&nbsp;&nbsp; /* ci je rok prestupny
(YES, NO) */</tt>
<br><tt>&nbsp;char p1, p2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* nedelne
pismeno/pismena;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * ak ma rok iba
jedno,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * druhe p2 ==
NIJAKE_NEDELNE_PISMENO */</tt>
<br><tt>&nbsp;char litrok;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* pismeno
liturgickeho roka,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * ktory zacina
prvou adventnou nedelou v roku */</tt>
<br><tt>&nbsp;int tyzden_ocr_po_vn; /* cislo tyzdna obdobia "cez rok",</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * ktory nasleduje
po nedeli zoslania</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * ducha svateho,
teda po velkonocnom obdobi */</tt>
<br><tt>&nbsp;int tyzden_ocr_pred_po; /* cislo tyzdna obdobia cez rok,
v ktorom zacina post */</tt>
<br><tt>&nbsp;struct dm _den[POCET_ALIASOV];</tt></ul>
<tt>};</tt>
<br><tt>typedef struct lrok _struct_lrok;</tt>
<br><tt></tt>&nbsp;</ul>
<tt></tt>
<center>
<h4>
<a NAME="func"></a>Funkènos</h4></center>
Na zaèiatku, po stlaèení tlaèidla <a href="cgi-bin/l.cgi?qt=pdnes">on-line
BREVIÁR</a>, sa vygeneruje stránka obsahujúca informácie o aktuálnom dni,
a to nasledovne:
<ul>
<li>
zistí sa aktuálny dátum,</li>

<li>
pre danı rok sa spustí funkcia <tt>analyzuj_rok();</tt></li>

<br>táto funkcia naplní štruktúru pre danı (kalendárny) rok, ktorá obsahuje
dátumy najvıznamnejších medzníkov liturgického roka v danom kalendárnom
roku a charakteristiky roka.&nbsp;<a NAME="medznik"></a><i>Medzníkmi</i>
pre úèely programu sú:
<ul>
<li>
Krst Krista Krá¾a (1. nede¾a v období „cez rok“, ktorou sa konèí Vianoèné
obdobie),</li>

<li>
Popolcová streda (zaèína sa Pôstne obdobie),</li>

<li>
Ve¾konoèná nede¾a (konèí sa Pôstne obdobie a zaèína sa Ve¾konoèné obdobie),</li>

<li>
Nanebovstúpenie Pána (konèí sa Ve¾konoèné obdobie a pokraèuje obdobie „cez
rok“),</li>

<li>
Prvá adventná nede¾a (konèí sa obdobe „cez rok“, zaèína Adventné obdobie),</li>

<li>
Sviatok Svätej rodiny.</li>
</ul>
Ostatné pohyblivé slávenia sa ¾ahko vypoèítajú pod¾a medzníkov, napr.:
<ul>
<li>
Kvetná nede¾a: 7 dní pred Ve¾konoènou nede¾ou (podobne Zelenı štvrtok,
Ve¾kı piatok, Biela sobota, Ve¾konoènı pondelok, Nede¾a vo Ve¾konoènej
oktáve),</li>

<li>
Najsvätejšej Trojice: 7 dní po Zoslaní Ducha Svätého,</li>

<li>
Najsvätejšieho Tela a Krvi: 11 dní po Zoslaní Ducha Svätého,</li>

<li>
Najsvätejšieho Srdca Jeišovho: 19 dní po Zoslaní Ducha Svätého.</li>
</ul>
Charakteristikami roka sú:
<ul>
<li>
èi je rok <a href="msg/prestupn.htm">priestupnı</a>,</li>

<li>
<a href="msg/lr_pism.htm">písmeno liturgického roka</a>, ktorı zaèína Prvou
adventnou nede¾ou kalendárneho roka,</li>

<li>
<a href="msg/nedpism.htm">nede¾né písmeno/písmená</a> (niekedy nede¾ná
litera),</li>

<li>
poradové èíslo tıdòa obdobia „cez rok“, v ktorom zaèína Pôstne obdobie
(teda v ktorom je Popolcová streda),</li>

<li>
poradové èíslo tıdòa obdobia „cez rok“, ktorı nasleduje po Nedeli Zoslania
Ducha Svätého, ktorou sa konèí Ve¾konoèné obdobie.</li>
</ul>

<li>
pre danı dátum sa spustí funkcia <tt>rozbor_dna();</tt></li>

<br>táto funkcia naplní štruktúru pre kadı deò údajmi jednak kalendárnymi
(deò v tıdni, poradie dòa v roku), „dvak“ liturgickımi (<a href="msg/lr_pism.htm">liturgickı
rok</a>, liturgické obdobie, tıdeò altára, poradové èíslo slávenia pod¾a
è. 59 <a href="smer/smer_lrk.htm">Všeobecnıch smerníc o liturgickom roku
a o kalendári</a>, èi je slávenie prikázanım sviatkom, napokon prípadné
vlastné meno slávenia),
<li>
pod¾a takto pripravenıch štruktúr sa ¾ahko vygeneruje stránka s aktuálnymi
údajmi (dátum, mesiac, roky).</li>
</ul>
Pre generovanie informácie o jednotlivom dni (bez urèenej modlitby) vyzerá
postup programu nasledovne: spustí funkciu&nbsp;<a NAME="rozbor_dna"></a><tt>rozbor_dna();</tt>
pre danı deò a vısledok zobrazí. Spomínaná funkcia <tt>rozbor_dna()</tt>
je jednou z k¾úèovıch funkèností aplikácie, preto sa jej budem venova
trošku podrobnejšie.
<ul>
<li>
1. fáza: <b>Všeobecné liturgické dáta</b></li>

<br>Táto fáza zaradí danı deò (pod¾a dátumu, presnejšie poradového èísla
dòa v roku) do liturgického obdobia, teda pod¾a medzníkov <a href="#medznik">spomínanıch
vyššie</a> urèí, o aké liturgické obdobie ide. Program pritom interne pouíva
nasledovné konštanty:
<ul><tt>/* liturgicke obdobia */</tt>
<br><tt>//OBD_ADVENTNE</tt>
<br><tt>#define OBD_ADVENTNE_I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1 /* do 16. decembra */</tt>
<br><tt>#define OBD_ADVENTNE_II&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2 /* po 16. decembri */</tt>
<br><tt>//OBD_VIANOCNE</tt>
<br><tt>#define OBD_VIANOCNE_I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3 /* do slavnosti zjavenia pana */</tt>
<br><tt>#define OBD_VIANOCNE_II&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
4 /* po slavnosti zjavenia pana */</tt>
<br><tt>//OBD_CEZ_ROK</tt>
<br><tt>#define OBD_CEZ_ROK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
5</tt>
<br><tt>//OBD_POSTNE</tt>
<br><tt>#define OBD_POSTNE_I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
6 /* do soboty v piatom tyzdni */</tt>
<br><tt>#define OBD_POSTNE_II_VELKY_TYZDEN 7 /* velky tyzden */</tt>
<br><tt>//OBD_VELKONOCNE</tt>
<br><tt>#define OBD_VELKONOCNE_TROJDNIE&nbsp;&nbsp;&nbsp; 8 /* umucenia
a zmrtvychvstania Pana */</tt>
<br><tt>#define OBD_VELKONOCNE_I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
9 /* do nanebovstupenia pana */</tt>
<br><tt>#define OBD_VELKONOCNE_II&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
10 /* po nanebovstupeni pana */</tt>
<br><tt>/* nasleduju specialne pod-obdobia */</tt>
<br><tt>#define OBD_VELKONOCNA_OKTAVA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 /*
velkonocna nedela -- 2. velk. ne */</tt>
<br><tt>#define OBD_OKTAVA_NARODENIA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11 /*
narodenie Pana -- 1. jan. */</tt></ul>
V tejto èasti sa urèia všetky slávenia, ktoré sú v breviári v èastiach
<i>Vlastné èasti liturgickıch období</i> a <i>Slávnosti v období „cez rok“</i>.
Ïalej sa urèia poradové tıdne: tıdeò daného obdobia, tıdeò altára.urèia
aj prípadné slávenia, ktoré pripadnú na hranièné dni medzi obdobiami (medzníky).
<br>&nbsp;
<li>
2. fáza: <b>Liturgické dáta pre sviatky svätıch</b></li>

<br>Táto fáza pre danı deò (bez oh¾adu na predošlé liturgické zaèlenenie)
zistí poèet sviatkov svätıch (berieme toti do úvahy, e v danı deò môe
by viac ¾ubovo¾nıch spomienok) a pre kadı z nich vytvorí dátovú štruktúru,
ktorá obsahuje najmä názov slávenia, typ slávenia a podštruktúru s dátami,
ktoré urèujú, odkia¾ sa má bra spoloèná èas slávenia. Príklad uvádza
èiastoèné nastavenie dátovıch štruktúr pre dátum 24. apríla:
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; _global_svaty1.typslav = SLAV_LUB_SPOMIENKA;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; _global_svaty1.smer = 12; /* lubovolne
spomienky podla vseobecneho kalendara */</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; strcpy(_global_svaty1.meno, "Sv. Juraja,
muèeníka");</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; _global_svaty1.spolcast = _encode_spol_cast(MODL_SPOL_CAST_MUCENIK);</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; pocet = 2;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; _global_svaty2.typslav = SLAV_LUB_SPOMIENKA;</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; _global_svaty2.smer = 12; /* lubovolne
spomienky podla vseobecneho kalendara */</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; strcpy(_global_svaty2.meno, "Sv. Fidéla
zo Sigmaringenu, kòaza a muèeníka");</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; _global_svaty2.spolcast =</tt>
<ul><tt>&nbsp;&nbsp;&nbsp;&nbsp; _encode_spol_cast(MODL_SPOL_CAST_MUCENIK,
MODL_SPOL_CAST_DUCH_PAST_KNAZ);</tt></ul>
Pripomíname, e v tejto fáze sa všetky slávenia, ktoré sú v breviári zaradené
v èasti <i>Vlastné èasti na sviatky svätıch</i>.
<br>&nbsp;
<li>
3. fáza: <b>Porovnanie</b></li>

<br>Zo všetkıch slávení, prichádzajúcich do úvahy sa uprednostní to slávenie,
ktoré má v tabu¾ke liturgickıch dní vyšší stupeò. Ak ide o sobotu v období
cez rok, berie sa do úvahy aj spomienka Panny Márie v sobotu.</ul>
Pre generovanie modlitby vyzerá postup programu nasledovne:
<ul>
<li>
ak ide o vešpery/kompletórium, treba generova „nadvakrát“, a to preto,
lebo v prípade, keï prvé vešpery nasledujúceho dòa majú prednos pred vešperami
tohoto dòa,</li>

<li>
teda v prípade vešpier/kompletória spustí funkciu <tt>rozbor_dna();</tt>
pre nasledujúci deò (a ak si to okolnosti vyadujú, tak aj <tt>analyzuj_rok();</tt>
pre nasledujúci rok), vısledok uchová,</li>

<li>
spustí funkciu <tt>rozbor_dna();</tt> pre danı deò, ako je <a href="#rozbor_dna">popísané
vyššie</a>, a vısledok uchová,</li>

<li>
nastavia sa spoloèné èasti pre slávenia z vlastnej èasti svätıch, a to
pod¾a toho, èo bolo nastavené funkciou <tt>rozbor_dna();</tt> pre danı
deò, ako bolo <a href="#rozbor_dna">popísané vyššie</a>,</li>

<li>
ak slávenie pouíva almy zo altára, spustí sa funkcia, ktorá vráti poadované
almy,</li>

<li>
v prípade vešpier/kompletória zobrazí modlitbu pre ten deò, ktorı má prednos,</li>

<li>
vyššie spomínanı vısledok obsahuje dátovú štruktúru s jednotlivımi zlokami
modlitby, a to dvojice &lt;<i>súbor, kotva</i>> pre kadú èas modlitby.
Pod <i>èasou</i> sa rozumie kadá antifóna, alm, responzórium, hymnus,
modlitba dòa èi slávenia (kolekta), jednoducho všetko, èo sa potenciálne
môe opakova a èasto sa aj opakuje. To je dôvod, preèo sa modlitba generuje,
a nie je v statickej pobode. Istee, pohodlnejšie je celı breviár ma v
statickej podobe tak, ako je, na internete Avšak <a href="cgi-bin/l.cgi?qt=pdnes">on-line
BREVIÁR</a> umoòuje vygenerova súvislı text modlitby bez toho, e by
bolo potrebné listova v breviári a h¾ada hymnus na inom mieste ako antifóny
a na ïalšom mieste almy resp. chválospev.</li>

<li>
Modlitba sa generuje tak, e do prázdnej šablóny (obsahuje iba nadpisy
jednotlivıch èastí modlitby a pevné súèasti modlitby, ako úvodné Sláva
Otcu èi závereèné poehnanie) sa postupne vkladajú èasti, a to tak, e
daná èas sa h¾adá v súbore <i>súbor</i> od miesta BEGIN:<i>kotva</i> po
miesto END:<i>kotva</i> (a to aj viacnásobne) pod¾a dvojice &lt;<i>súbor,
kotva</i>>.</li>
</ul>
Pre generovanie tabu¾ky pohyblivıch slávení vyzerá postup programu nasledovne:
<ul>
<li>
pre kadı rok sa spustí funkcia <tt>analyzuj_rok(); </tt>ktorá naplní štruktúru
pre danı (kalendárny) rok,</li>

<li>
jednotlivé údaje sa vypíšu do riadka tabu¾ky (s prípadnımi hypertextovımi
odkazmi).</li>
</ul>
Podobne sa generuje aj analıza roka, kde sa naviac generujú aj tlaèidlá
pre nasledujúci a predchádzajúci rok.
<br>
<hr SIZE=1 WIDTH="100%">
<center><font size=-1>© 1999-2002 <a href="mailto:videky@breviar.sk">Juraj
Vidéky</a></font></center>

</body>
</html>
